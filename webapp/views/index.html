<html ng-app="app">
<head>
	<meta http-equiv="Content-Type" content="form.text/html; charset=UTF-8">
	<title>home</title>
	<script src="../js/angular.js"></script>
	<script src="../js/app.js"></script>
</head>
	<body ng-controller="controller as form">
		<a href="index.html"><h1>MediCadastro</h1></a>
		<hr />
		<button ng-click="showPacientes = !showPacientes; showExames = false">Pacientes</button>
		<button ng-click="showExames  = !showExames; showPacientes = false">Exames</button>
		<hr />
		<div ng-show="showPacientes">
			<button = ng-click="form.showAlterPacient = !form.showAlterPacient; form.text='Adicionar'">Adicionar paciente</button>
			<table>
			<tr>
				<th>Id</th>
				<th>Nome</th>
				<th>Idade</th>
				<th>Sexo</th>
			</tr>
				<tr ng-repeat="paciente in form.pacientes">
					<td>{{paciente.id}}</td>
					<td>{{paciente.nome}}</td>
					<td>{{paciente.idade}}</td>
					<td>{{paciente.sexo}}</td>
					<td><button ng-click="deletePacient(paciente)">Remover</button></td>
					<td><button ng-click="form.showAlterPacient = !form.showAlterPacient; form.text = 'Alterar'">Alterar</button></td>
				</tr>
			</table>
			<div ng-show="form.showAlterPacient">
				<hr />
				<form >
					Nome do paciente: <br />
					<input type="form.text" name="nome" value="{{paciente.nome}}" ng-model="paciente.nome">
					<br />Idade: <br />
					<input type="number" name="idade" min="0" max="200" ng-model="paciente.idade">

					<br />Sexo: <br />
					<input type="radio" name="sexo" value="masculino" ng-model="paciente.sexo"> Masculino<br>
					<input type="radio" name="sexo" value="feminino" ng-model="paciente.sexo"> Feminino<br>

					<input type="submit" value="{{form.text}}" ng-click="addPacient(paciente)">
				</form>
			</div>
		</div>
		<div ng-show="showExames">
			<button ng-click="form.showAlterExames = !form.showAlterExames; form.text='Adicionar'">Novo Exame</button>
			<table>
			<tr>
				<th>Id</th>
				<th>Nome</th>
				<th>Descricao</th>
				<th>Data</th>
				<th>Paciente</th>
			</tr>
				<tr ng-repeat='exame in form.exames'>
					<td>{{exame.id}}</td>
					<td>{{exame.nome}}</td>
					<td>{{exame.descricao}}</td>
					<td>{{exame.data}}</td>
					<td>{{exame.paciente.nome}}</td>
		      <td><button ng-click="deleteExam(exame)">Remover</button></td>
					<td><button ng-click="form.showAlterExames = !form.showAlterExames; form.text='Alterar'">Alterar</button></td>
				</tr>
			</table>
			<div ng-show="form.showAlterExames">
				<hr />
					Nome do exame:
					<br /> <input type="form.text" name="nome" ng-model="exame.nome">

					<br />Descricao<br />
					<form.textarea name="descricao" rows="5" cols="80" ng-model="exame.descricao"></form.textarea>

					<br />Paciente<br />
					<select>
					  <option ng-repeat="paciente in form.pacientes" value="{{paciente}}" ng-model="exame.paciente">{{paciente.nome}}</option>
					</select>

					<br />Data<br />
					<input type="date" name="data" ng-model="exame.data">
					<button ng-click="addExam(exame)">{{form.text}}</button>

			</div>
		</div>
	</body>
</html>
